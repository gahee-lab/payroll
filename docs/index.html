<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>25ë…„ ì—°ë§ì •ì‚° ìœ í˜• CHECK LIST</title>
  <style>
    :root{
      --bg:#ffffff;
      --text:#111111;
      --muted:#6b7280;
      --card:#ffffff;
      --border:#e5e7eb;
      --shadow: 0 10px 30px rgba(0,0,0,.08);

      --btn:#111111;
      --btnHover:#000000;
      --btnText:#ffffff;

      --btnGhostBg:#ffffff;
      --btnGhostText:#111111;

      --chipBg:#f3f4f6;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, "Apple SD Gothic Neo", "Noto Sans KR", sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
    }

    .wrap{width:min(920px, 100%);}

    .top{
      display:flex;
      gap:12px;
      align-items:flex-start;
      justify-content:space-between;
      flex-wrap:wrap;
      margin-bottom:14px;
    }

    .title{
      display:flex;
      gap:10px;
      align-items:center;
      font-weight:900;
      letter-spacing:-.3px;
      font-size:18px;
    }

    .badge{
      font-size:12px;
      color:#111;
      background:#f3f4f6;
      border:1px solid var(--border);
      padding:6px 10px;
      border-radius:999px;
      font-weight:900;
    }

    .card{
      background: var(--card);
      border: 1px solid var(--border);
      border-radius:16px;
      padding:18px;
      box-shadow: var(--shadow);
    }

    .q{
      font-size:22px;
      font-weight:1000;
      line-height:1.25;
      letter-spacing:-.4px;
      margin:6px 0 12px;
    }

    .sub{
      color: var(--muted);
      font-size:13px;
      line-height:1.5;
      margin-top:-2px
    }

    .btns{
      display:flex;
      gap:10px;
      margin-top:14px;
      flex-wrap:wrap;
    }

    button{
      border:0;
      cursor:pointer;
      padding:12px 14px;
      border-radius:12px;
      font-weight:900;
      transition: transform .06s ease, background .15s ease, opacity .15s ease, border-color .15s ease;
    }
    button:active{transform: scale(.98)}

    .yes{
      background: var(--btn);
      color: var(--btnText);
    }
    .yes:hover{background: var(--btnHover);}

    .no{
      background: var(--btnGhostBg);
      color: var(--btnGhostText);
      border:1px solid var(--border);
    }
    .no:hover{background:#fafafa}

    .ghost{
      background: var(--btnGhostBg);
      color: var(--btnGhostText);
      border:1px solid var(--border);
    }
    .ghost:hover{background:#fafafa}

    .row{display:flex; gap:10px; align-items:center; flex-wrap:wrap}

    .crumbs{
      margin-top:14px;
      padding-top:12px;
      border-top:1px solid var(--border);
      color: var(--muted);
      font-size:12px;
      line-height:1.6;
    }

    .pill{
      display:inline-block;
      padding:4px 9px;
      border-radius:999px;
      border:1px solid var(--border);
      margin:3px 6px 0 0;
      background: var(--chipBg);
      color:#111;
    }

    .resultType{
      display:inline-flex;
      gap:10px;
      align-items:center;
      font-size:18px;
      font-weight:1000;
      margin:2px 0 10px;
    }

    .dot{
      width:10px; height:10px;
      border-radius:50%;
      background:#111;
    }

    .kv{
      margin:10px 0 0;
      display:grid;
      gap:10px
    }
    .kv .item{
      padding:8px 10px;
      border-radius:10px;
      background:#fafafa;
      border:1px solid var(--border);
    }

    .k{
      color:#111;
      font-size:14px;
      font-weight:900;
      margin-bottom:4px;
    }
    .v{
      margin-top:2px;
      font-size:14px;
      line-height:1.0;
      white-space:pre-wrap;
      color:#111;
      font-weight:700;
    }

    /* âœ… ë©”ì¼ ì•ˆë‚´ (ê²°ê³¼ í•˜ë‹¨ì— 1ë²ˆë§Œ) */
    .mailBox.once{
      margin-top:12px;
      padding:10px 12px;
      border:1px solid var(--border);
      border-radius:10px;
      background:#fff;
      font-size:14px;
      line-height:1.5;
      color:#374151;
    }
    .mailBox.once a{
      color:#111;
      font-weight:900;
      text-decoration:underline;
    }
    .subject{
      font-weight:900;
      letter-spacing:-.2px;
    }

    a{color:#111; text-decoration:underline}
    a:hover{opacity:.85}
  </style>
</head>

<body>
  <div class="wrap">
    <div class="top">
      <div class="title">
        <span class="badge">YES / NO</span>
        ì—°ë§ì •ì‚° ìœ í˜• CHECK LIST
      </div>
      <div class="row">
        <button class="ghost" id="btnBack">â† ì´ì „</button>
        <button class="ghost" id="btnRestart">ì²˜ìŒìœ¼ë¡œ</button>
      </div>
    </div>

    <div class="card" id="card"></div>
  </div>

<script>
const tree = {
  q1: { type:"q", text:"25ë…„ ì¤‘ë„ ì…ì‚¬ì ì¸ê°€ìš”?", yes:"q2_prevCompany2025", no:"q2_applyNow_direct" },

  q2_prevCompany2025: { type:"q", text:"25ë…„ì— ê·¼ë¬´í•œ ì´ì „(ì¢…ì „) íšŒì‚¬ê°€ ìˆë‚˜ìš”?", yes:"q3_prevApplied", no:"q3_applyNow_mid" },

  q3_prevApplied: { type:"q", text:"ì´ì „ íšŒì‚¬ì—ì„œ ì¤‘ì†Œê¸°ì—… ì²­ë…„ ì†Œë“ì„¸ ê°ë©´ì„ ì‹ ì²­í•˜ì…¨ë‚˜ìš”?", yes:"r_AplusB", no:"q4_applyNow_afterPrevNo" },

  q4_applyNow_afterPrevNo: { type:"q", text:"ì¤‘ì†Œê¸°ì—… ì²­ë…„ ì†Œë“ì„¸ ê°ë©´ì„ ì‹ ì²­í•˜ì‹¤ ê±´ê°€ìš”?", yes:"r_AplusB2", no:"r_A" },

  q3_applyNow_mid: { type:"q", text:"ì¤‘ì†Œê¸°ì—… ì²­ë…„ ì†Œë“ì„¸ ê°ë©´ì„ ì‹ ì²­í•˜ì‹¤ ê±´ê°€ìš”?", yes:"r_B", no:"r_A" },

  q2_applyNow_direct: { type:"q", text:"ì¤‘ì†Œê¸°ì—… ì²­ë…„ ì†Œë“ì„¸ ê°ë©´ì„ ì‹ ì²­í•˜ì‹¤ ê±´ê°€ìš”?", yes:"q5_hasHistory", no:"r_C" },

  q5_hasHistory: { type:"q", text:"ì´ì „ì— ì‹ ì²­í•œ ì´ë ¥ì´ ìˆë‚˜ìš”?", yes:"r_C", no:"r_B" },

  r_AplusB: {
    type:"r",
    resultType:"A + B ìœ í˜•",
    submissions:[
      { title:"1ì°¨ ì œì¶œ", due:"12ì›” 31ì¼ê¹Œì§€", docs:"ì „ì§ì¥ê·¼ë¡œì†Œë“ ì›ì²œì§•ìˆ˜ì˜ìˆ˜ì¦, ì¤‘ì†Œê¸°ì—… ì²­ë…„ ì†Œë“ì„¸ ê°ë©´ëª…ì„¸ì„œ(í™ˆíƒìŠ¤) ë° ì‹ ì²­ì„œ(ì²¨ë¶€íŒŒì¼)" },
      { title:"2ì°¨ ì œì¶œ", due:"1ì›” 20ì¼ ~ 1ì›” 27ì¼", docs:"êµ¬ê¸€í¼, í™ˆí…ìŠ¤(ì—°ë§ì •ì‚° ìë£Œ), ë“±ë³¸ ë° ê¸°íƒ€ í•´ë‹¹ë˜ëŠ” ì„œë¥˜" }
    ]
  },

  r_A: {
    type:"r",
    resultType:"A ìœ í˜•",
    submissions:[
      { title:"1ì°¨ ì œì¶œ", due:"12ì›” 31ì¼ê¹Œì§€", docs:"ì „ì§ì¥ê·¼ë¡œì†Œë“ ì›ì²œì§•ìˆ˜ì˜ìˆ˜ì¦" },
      { title:"2ì°¨ ì œì¶œ", due:"1ì›” 20ì¼ ~ 1ì›” 27ì¼", docs:"êµ¬ê¸€í¼, í™ˆí…ìŠ¤(ì—°ë§ì •ì‚° ìë£Œ), ë“±ë³¸ ë° ê¸°íƒ€ í•´ë‹¹ë˜ëŠ” ì„œë¥˜" }
    ]
  },

  r_B: {
    type:"r",
    resultType:"B ìœ í˜•",
    submissions:[
      { title:"1ì°¨ ì œì¶œ", due:"12ì›” 31ì¼ê¹Œì§€", docs:"ì¤‘ì†Œê¸°ì—… ì²­ë…„ ì†Œë“ì„¸ ê°ë©´ ì‹ ì²­ì„œ(ì²¨ë¶€íŒŒì¼)" },
      { title:"2ì°¨ ì œì¶œ", due:"1ì›” 20ì¼ ~ 1ì›” 27ì¼", docs:"êµ¬ê¸€í¼, í™ˆí…ìŠ¤(ì—°ë§ì •ì‚° ìë£Œ), ë“±ë³¸ ë° ê¸°íƒ€ í•´ë‹¹ë˜ëŠ” ì„œë¥˜" }
    ]
  },

  r_AplusB2: {
    type:"r",
    resultType:"A + B ìœ í˜•",
    submissions:[
      { title:"1ì°¨ ì œì¶œ", due:"12ì›” 31ì¼ê¹Œì§€", docs:"ì „ì§ì¥ê·¼ë¡œì†Œë“ ì›ì²œì§•ìˆ˜ì˜ìˆ˜ì¦, ì¤‘ì†Œê¸°ì—… ì²­ë…„ ì†Œë“ì„¸ ê°ë©´ì‹ ì²­ì„œ(ì²¨ë¶€íŒŒì¼)" },
      { title:"2ì°¨ ì œì¶œ", due:"1ì›” 20ì¼ ~ 1ì›” 27ì¼", docs:"êµ¬ê¸€í¼, í™ˆí…ìŠ¤(ì—°ë§ì •ì‚° ìë£Œ), ë“±ë³¸ ë° ê¸°íƒ€ í•´ë‹¹ë˜ëŠ” ì„œë¥˜" }
    ]
  },

  r_C: {
    type:"r",
    resultType:"C ìœ í˜•",
    submissions:[
      { title:"ì œì¶œ", due:"1ì›” 20ì¼ ~ 1ì›” 27ì¼", docs:"êµ¬ê¸€í¼, í™ˆí…ìŠ¤(ì—°ë§ì •ì‚° ìë£Œ), ë“±ë³¸ ë° ê¸°íƒ€ í•´ë‹¹ë˜ëŠ” ì„œë¥˜" }
    ]
  }
};

// ---------------------------
// ì—”ì§„
// ---------------------------
let currentId = "q1";
let history = [];

const card = document.getElementById("card");
const btnBack = document.getElementById("btnBack");
const btnRestart = document.getElementById("btnRestart");

function escapeHtml(str){
  return String(str)
    .replaceAll("&","&amp;")
    .replaceAll("<","&lt;")
    .replaceAll(">","&gt;")
    .replaceAll('"',"&quot;")
    .replaceAll("'","&#039;");
}

function render() {
  const node = tree[currentId];
  if (!node) {
    card.innerHTML = `<div class="q">ì˜¤ë¥˜</div><div class="sub">ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ë…¸ë“œ: ${escapeHtml(currentId)}</div>`;
    return;
  }

  const crumbsHtml = history.length
    ? `<div class="crumbs">
         <div style="margin-bottom:6px; font-weight:800; color:#6b7280">ì§„í–‰ ê¸°ë¡</div>
         ${history.map(h => {
            const q = tree[h.id]?.text ?? h.id;
            const a = h.answer === "yes" ? "ì˜ˆ" : "ì•„ë‹ˆì˜¤";
            return `<span class="pill">${escapeHtml(q)} â†’ <b>${a}</b></span>`;
          }).join("")}
       </div>`
    : "";

  if (node.type === "q") {
    card.innerHTML = `
      <div class="sub">ì•„ë˜ ë²„íŠ¼ì„ ëˆŒëŸ¬ ì§„í–‰í•´ ì£¼ì„¸ìš”.</div>
      <div class="q">${escapeHtml(node.text)}</div>
      <div class="btns">
        <button class="yes" id="btnYes">ì˜ˆ</button>
        <button class="no"  id="btnNo">ì•„ë‹ˆì˜¤</button>
      </div>
      ${crumbsHtml}
    `;
    document.getElementById("btnYes").onclick = () => go("yes");
    document.getElementById("btnNo").onclick  = () => go("no");
  } else {
    const steps = Array.isArray(node.submissions) ? node.submissions : [];

    const mailOnceHtml = `
      <div class="mailBox once">
        ğŸ“© <b>í”¼í”Œ 3ì…€ ë©”ì¼ì£¼ì†Œ</b> :
        <a href="mailto:payroll@thesmc.co.kr">payroll@thesmc.co.kr</a><br/>
        ğŸ’Œ <b>ë©”ì¼ ì œëª©</b> :
        <span class="subject">[ì—°ë§ì •ì‚°] _____________________</span>
      </div>
    `;

    card.innerHTML = `
      <div class="sub">ìµœì¢… ê²°ê³¼</div>
      <div class="resultType"><span class="dot"></span>${escapeHtml(node.resultType)}</div>

      <div class="kv">
        ${steps.map(step => `
          <div class="item">
            <div class="k">${escapeHtml(step.title)}</div>
            <div class="v">
              <b>ì œì¶œì¼</b> : ${escapeHtml(step.due)}<br/>
              <b>ì œì¶œì„œë¥˜</b> : ${escapeHtml(step.docs)}
            </div>
          </div>
        `).join("")}
      </div>

      ${mailOnceHtml}

      <div class="btns">
        <button class="ghost" id="btnAgain">ë‹¤ì‹œ í•˜ê¸°</button>
      </div>
      ${crumbsHtml}
    `;

    document.getElementById("btnAgain").onclick = restart;
  }

  btnBack.disabled = history.length === 0;
}

function go(answer) {
  const node = tree[currentId];
  const nextId = node[answer];
  history.push({ id: currentId, answer });
  currentId = nextId;
  render();
}

function back() {
  if (!history.length) return;
  const last = history.pop();
  currentId = last.id;
  render();
}

function restart() {
  currentId = "q1";
  history = [];
  render();
}

btnBack.onclick = back;
btnRestart.onclick = restart;

render();
</script>
</body>
</html>
